<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VR Room with Webcam Feed</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
</head>
<body>
  <a-scene>
    <!-- Camera -->
    <a-entity camera position="0 1.6 3" wasd-controls="acceleration: 300" look-controls></a-entity>

    <!-- Ground Plane -->
    <a-plane position="0 0 -5" rotation="-90 0 0" width="20" height="20" color="#7BC8A4"></a-plane>

    <!-- Red Cube -->
    <a-box position="0 1 -3" depth="1" height="1" width="1" color="#FF0000"></a-box>

    <!-- Webcam Screen (Plane) -->
    <a-plane id="webcamScreen" position="0 2 -4" rotation="0 0 0" width="4" height="2" material="side: double; shader: flat;"></a-plane>
  </a-scene>

  <script>
    // Access the webcam
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(function(stream) {
        // Create a video element to hold the webcam stream
        const video = document.createElement('video');
        video.srcObject = stream;
        video.autoplay = true;

        // Wait for the video to start playing, then apply it as a texture
        video.onloadedmetadata = () => {
          // Set the webcam video as a texture on the plane
          const webcamScreen = document.querySelector('#webcamScreen');
          webcamScreen.setAttribute('material', 'src', video);
        };
      })
      .catch(function(error) {
        console.error('Error accessing the webcam: ', error);
      });
  </script>
</body>
</html>
